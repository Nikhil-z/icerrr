(function(){console.log("Load plugin: MediaStreamer");cordovaRef=window.cordova;function MediaStreamer(){}
MediaStreamer.prototype.play=function(stream_url,isAlarm,volume,stationData,win,fail){console.log("MediaStreamer.prototype.play()");var sd=stationData;cordova.exec(win,fail,"MediaStreamer","play",[stream_url,isAlarm,volume,""+sd.station_id,sd.station_name,sd.station_host,""+sd.station_port,sd.station_path]);};MediaStreamer.prototype.stop=function(win,fail){console.log("MediaStreamer.prototype.stop()");cordova.exec(win,fail,"MediaStreamer","stop",[]);};MediaStreamer.prototype.setVolume=function(level,win,fail){console.log("MediaStreamer.prototype.setVolume(): "+level);cordova.exec(win,fail,"MediaStreamer","setVolume",[level]);};MediaStreamer.prototype.incrVolume=function(win,fail){console.log("MediaStreamer.prototype.incrVolume()");cordova.exec(win,fail,"MediaStreamer","incrVolume",[]);};MediaStreamer.prototype.decrVolume=function(win,fail){console.log("MediaStreamer.prototype.decrVolume()");cordova.exec(win,fail,"MediaStreamer","decrVolume",[]);};MediaStreamer.prototype.getStatus=function(win,fail){cordova.exec(win,fail,"MediaStreamer","getStatus",[]);};MediaStreamer.prototype.isServiceRunning=function(win,fail){console.log("MediaStreamer.prototype.isServiceRunning()");cordova.exec(win,fail,"MediaStreamer","isServiceRunning",[]);};MediaStreamer.prototype.storeStarredStations=function(starredStations,currentStation,win,fail){console.log("MediaStreamer.prototype.storeStarredStations()");if(!starredStations){starredStations=[];}
var newlist=[];for(var i=0;i<starredStations.length;i++){newlist.push(starredStations[i]);}
if(currentStation&&site.helpers.session.getStationIndexById(currentStation.station_id,newlist)<0&&newlist.length>0){console.log(" > Add currentStation to starredStations..");newlist.unshift(currentStation);}
var index=-1;if(currentStation){index=site.helpers.session.getStationIndexById(currentStation.station_id,newlist);}
cordova.exec(win,fail,"MediaStreamer","storeStarredStations",[newlist,index]);}
MediaStreamer.prototype.setting=function(type,key,value,win,fail){console.log("MediaStreamer.prototype.setting()");cordova.exec(win,fail,"MediaStreamer","setting",[{"type":type,"key":key,"value":value}]);}
MediaStreamer.prototype.getSetting=function(type,key,win,fail){console.log("MediaStreamer.prototype.getSetting()");cordova.exec(win,fail,"MediaStreamer","getSetting",[{"type":type,"key":key}]);}
MediaStreamer.prototype.getlog=function(win,fail){console.log("MediaStreamer.prototype.getlog()");cordova.exec(win,fail,"MediaStreamer","getlog",[]);}
MediaStreamer.prototype.installUpdateApp=function(filePath,win,fail){console.log("MediaStreamer.prototype.installUpdateApp()");cordova.exec(win,fail,"MediaStreamer","install-update-app",[filePath]);}
MediaStreamer.prototype.updateMetaData=function(win,fail){console.log("MediaStreamer.prototype.updateMetaData()");cordova.exec(win,fail,"MediaStreamer","updateMetaData",[]);}
MediaStreamer.prototype.setAppIcon=function(inticon,win,fail){console.log("MediaStreamer.prototype.setAppIcon()");cordova.exec(win,fail,"MediaStreamer","setAppIcon",[inticon]);}
MediaStreamer.prototype.copyMediaBitmap=function(contentMediaUri,destpath,destname,win,fail){console.log("MediaStreamer.prototype.copyMediaBitmap()");cordova.exec(win,fail,"MediaStreamer","copyMediaBitmap",[contentMediaUri,destpath,destname]);}
try{window.mediaStreamer=new MediaStreamer();}catch(e){console.error("MediaStreamer could not be loaded");console.error(e);}})();